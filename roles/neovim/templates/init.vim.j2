call plug#begin('~/.local/share/nvim/plugged')
Plug 'autozimu/LanguageClient-neovim', {
    \ 'branch': 'next',
    \ 'do': 'bash install.sh',
    \ }
Plug 'chriskempson/base16-vim'
" Plug 'rhysd/vim-grammarous'
Plug 'itchyny/lightline.vim'
Plug 'junegunn/fzf'
Plug 'sheerun/vim-polyglot'
Plug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }
Plug 'tpope/vim-fugitive'
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-repeat'
Plug 'tpope/vim-surround'
Plug 'tpope/vim-unimpaired'
call plug#end()

" basics
set hidden
set clipboard=unnamed,unnamedplus
set mouse=a
set incsearch
set ignorecase
set smartcase
set termguicolors

" indentation
set expandtab
set shiftwidth=2
set autoindent
set smartindent

" look
colorscheme base16-oceanicnext
highlight Normal ctermbg=NONE
highlight nonText ctermbg=NONE

" window managment
set splitbelow
set splitright

nnoremap <Up>    :resize +2<CR>
nnoremap <Down>  :resize -2<CR>
nnoremap <Left>  :vertical resize +2<CR>
nnoremap <Right> :vertical resize -2<CR>

nnoremap <C-J> <C-W><C-J>
nnoremap <C-K> <C-W><C-K>
nnoremap <C-L> <C-W><C-L>
nnoremap <C-H> <C-W><C-H>

" mappings
nmap Y y$
nmap <leader>b Oimport pdb; pdb.set_trace()<ESC>
cmap w!! w !sudo tee > /dev/null %

" Python setup
let g:python_host_prog = '/Users/brunoinec/.pyenv/versions/neovim2/bin/python'
let g:python3_host_prog = '/Users/brunoinec/.pyenv/versions/neovim/bin/python'

" lightline config
set noshowmode
let g:lightline = {
    \ 'colorscheme': 'jellybeans',
    \ 'active': {
    \   'left': [ [ 'mode', 'paste' ],
    \             [ 'gitbranch', 'readonly', 'filename', 'modified' ] ],
    \   'right': [ ['lineinfo'], ['percent'], ['filetype'] ]
    \ },
    \ 'component_function': {
    \   'gitbranch': 'fugitive#head'
    \ },
    \ }

" deoplete config
let g:deoplete#enable_at_startup = 1

" LanguageClient config
let g:LanguageClient_serverCommands = {
    \ 'python': ['/Users/brunoinec/.pyenv/versions/neovim/bin/pyls']
    \ }

let g:LanguageClient_loadSettings = 1
let g:LanguageClient_settingsPath = '/Users/brunoinec/.config/nvim/settings.json'

nnoremap <silent> gd :call LanguageClient#textDocument_definition({'gotoCmd': 'split'})<CR>
nnoremap <silent> gD :call LanguageClient#textDocument_definition()<CR>
nnoremap <silent> gh :call LanguageClient#textDocument_hover()<CR>
nnoremap <silent> gr :call LanguageClient#textDocument_references()<CR>
nnoremap <silent> gs :call LanguageClient#textDocument_documentSymbol()<CR>
nnoremap <silent> <F2> :call LanguageClient#textDocument_rename()<CR>
nnoremap <F5> :call LanguageClient_contextMenu()<CR>
noremap <silent> <F9> :call LanguageClient#textDocument_formatting()<CR>
